<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>NHS Dentist Near Me</title>
  <script>
    async function onSearch(e) {
      e.preventDefault();
      const pc = document.getElementById('pc').value;
      const res = await fetch(`/api/search?postcode=${pc}&radius=5000`);
      const json = await res.json();
      const list = document.getElementById('results');
      list.innerHTML = json.practices
        .map(p => `<li>${p.provider_name} (${p.postcode}) â€” UDA cap ${p.uda_perf_target}, ${p.distance_meters} m away</li>`)
        .join('');
    }
  </script>
</head>
<body>
  <h1>Find an NHS Dentist Near You</h1>
  <form onsubmit="onSearch(event)">
    <input id="pc" placeholder="Enter postcode" required>
    <button type="submit">Search</button>
  </form>
  <ul id="results"></ul>
</body>
</html>
